<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Students Calculator</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <link rel="stylesheet" href="./style.css">
</head>

<body>
    <div class="calc" data-type="norm">

        <h1 class="cb"
            style="position:fixed;right:10px;cursor:pointer;color:white;font-family:sans-serif;font-size:18px;font-weight:100;margin-left:10px;">
            Clipboard
        </h1>
        <div class="allsc">
            <div class="clip"
                style="color:rgba(255, 255, 255, 0.8);            ;display:flex;align-items: center;justify-content: center;">
                <h1 class='noopyet' style="font-family:sans-serif;font-size:18px;">No Opreations Yet</h1>
            </div>
        </div>
        <div class="io">
            <input type="text" class="input" id="input-value" placeholder="00000">
            <label class="from">From</label>
            <br>
            <br>
            <select name="se-from" id="se-from">
                <optgroup label="Decimal">
                    <option value="d">Decimal</option>
                </optgroup>

                <optgroup label="Length">
                    <option value="fu" data-plus="-1">Femto-unit</option>
                    <option value="pu" data-plus="-1">Pico-unit</option>
                    <option value="nu" data-plus="-1">Nano-unit</option>
                    <option value="μu" data-plus="-1">Micro-unit</option>
                    <option value="mu" data-plus="-1">Milli-unit</option>
                    <option value="cu" data-plus="-1">Centi-unit</option>
                    <option value="du" data-plus="-1">Deci-unit</option>

                    <option value="u" data-plus="1">unit</option>

                    <option value="Ku" data-plus="1">Kilo-unit</option>
                    <option value="Mu" data-plus="1">Mega-unit</option>
                    <option value="Gu" data-plus="1">Giga-unit</option>
                    <option value="Tu" data-plus="1">Tera-unit</option>
                </optgroup>
                <optgroup label="Area (Square -units)">
                    <option value="fuq" data-plus="-1">Femto-unit²</option>
                    <option value="puq" data-plus="-1">Pico-unit²</option>
                    <option value="nuq" data-plus="-1">Nano-unit²</option>
                    <option value="μuq" data-plus="-1">Micro-unit²</option>
                    <option value="muq" data-plus="-1">Milli-unit²</option>
                    <option value="cuq" data-plus="-1">Centi-unit²</option>
                    <option value="duq" data-plus="-1">Deci-unit²</option>

                    <option value="uq" data-plus="1">unit²</option>

                    <option value="Kuq" data-plus="1">Kilo-unit²</option>
                    <option value="Muq" data-plus="1">Mega-unit²</option>
                    <option value="Guq" data-plus="1">Giga-unit²</option>
                    <option value="Tuq" data-plus="1">Tera-unit²</option>
                </optgroup>
                <optgroup label="Volume (Cubic -units)">
                    <option value="fuc" data-plus="-1">Femto-unit³</option>
                    <option value="puc" data-plus="-1">Pico-unit³</option>
                    <option value="nuc" data-plus="-1">Nano-unit³</option>
                    <option value="μuc" data-plus="-1">Micro-unit³</option>
                    <option value="muc" data-plus="-1">Milli-unit³</option>
                    <option value="cuc" data-plus="-1">Centi-unit³</option>
                    <option value="duc" data-plus="-1">Deci-unit³</option>

                    <option value="uc" data-plus="1">unit³</option>

                    <option value="Kuc" data-plus="1">Kilo-unit³</option>
                    <option value="Muc" data-plus="1">Mega-unit³</option>
                    <option value="Guc" data-plus="1">Giga-unit³</option>
                    <option value="Tuc" data-plus="1">Tera-unit³</option>
                </optgroup>
                <optgroup label="Units Of Time">
                    
 
                    <option value="sec" data-plus="-1">Secound</option>                   
                    <option value="min" data-plus="-1">Minute</option>
                    <option value="h" data-plus="1">Hour</option>
                    <option value="dy" data-plus="1">Day</option>
                    <option value="wk" data-plus="1">Week</option>
                    <option value="mth" data-plus="1">Month</option>
                    <option value="yr" data-plus="1">Year</option>
                    <option value="dcd" data-plus="1">Decade</option>
                    <option value="cy" data-plus="1">Century</option>
                </optgroup>
            </select>
            <h1 class="output">00000</h1>
            <label class="to">To</label>
            <br>
            <br>
            <select name="se-to" id="se-to">
                <optgroup label="Decimal">
                    <option value="d">None</option>
                </optgroup>

                <optgroup label="Length">
                    <option value="fu" data-plus="1">Femto-unit</option>
                    <option value="pu" data-plus="1">Pico-unit</option>
                    <option value="nu" data-plus="1">Nano-unit</option>
                    <option value="μu" data-plus="1">Micro-unit</option>
                    <option value="mu" data-plus="1">Milli-unit</option>
                    <option value="cu" data-plus="1">Centi-unit</option>
                    <option value="du" data-plus="1">Deci-unit</option>

                    <option value="u" data-plus="1">unit</option>

                    <option value="Ku" data-plus="-1">Kilo-unit</option>
                    <option value="Mu" data-plus="-1">Mega-unit</option>
                    <option value="Gu" data-plus="-1">Giga-unit</option>
                    <option value="Tu" data-plus="-1">Tera-unit</option>
                </optgroup>
                <optgroup label="Area (Square -units)">
                    <option value="fuq" data-plus="1">Femto-unit²</option>
                    <option value="puq" data-plus="1">Pico-unit²</option>
                    <option value="nuq" data-plus="1">Nano-unit²</option>
                    <option value="μuq" data-plus="1">Micro-unit²</option>
                    <option value="muq" data-plus="1">Milli-unit²</option>
                    <option value="cuq" data-plus="1">Centi-unit²</option>
                    <option value="duq" data-plus="1">Deci-unit²</option>

                    <option value="uq" data-plus="1">unit²</option>

                    <option value="Kuq" data-plus="-1">Kilo-unit²</option>
                    <option value="Muq" data-plus="-1">Mega-unit²</option>
                    <option value="Guq" data-plus="-1">Giga-unit²</option>
                    <option value="Tuq" data-plus="-1">Tera-unit²</option>
                </optgroup>
                <optgroup label="Volume (Cubic -units)">
                    <option value="fuc" data-plus="1">Femto-unit³</option>
                    <option value="puc" data-plus="1">Pico-unit³</option>
                    <option value="nuc" data-plus="-1">Nano-unit³</option>
                    <option value="μuc" data-plus="1">Micro-unit³</option>
                    <option value="muc" data-plus="1">Milli-unit³</option>
                    <option value="cuc" data-plus="1">Centi-unit³</option>
                    <option value="duc" data-plus="1">Deci-unit³</option>

                    <option value="uc" data-plus="1">unit³</option>

                    <option value="Kuc" data-plus="-1">Kilo-unit³</option>
                    <option value="Muc" data-plus="-1">Mega-unit³</option>
                    <option value="Guc" data-plus="-1">Giga-unit³</option>
                    <option value="Tuc" data-plus="-1">Tera-unit³</option>
                </optgroup>
                <optgroup label="Units Of Time">
                    
                    <option value="sec" data-plus="1">Secound</option>                            
                    <option value="min" data-plus="1">Minute</option>

                    <option value="h" data-plus="1">Hour</option>

                    <option value="dy" data-plus="-1">Day</option>
                    <option value="wk" data-plus="-1">Week</option>
                    <option value="mth" data-plus="-1">Month</option>
                    <option value="yr" data-plus="-1">Year</option>
                    <option value="dcd" data-plus="-1">Decade</option>
                    <option value="cy" data-plus="-1">Century</option>
                </optgroup>
            </select>
        </div>
        <div class="btns">


            <div class="cont">
                <button class="button-calc" id="clear" style="    padding: 37px;
                padding-top: 43px;">CE</button>
                <button class="button-calc" id="x" data-type="opreations">×</button>
                <button class="button-calc" id="xs" data-type="opreations">÷</button>
                <button class="button-calc" id="os" data-type="opreations">-</button>
                <button class="button-calc" id="o" data-type="opreations">+</button>
                <button class="button-calc" id="calc">=</button>
            </div>

        </div>


    </div>
    <div
        style="margin-top: 30px;color: white;font-size: 8px;font-family: sans-serif;display: flex;flex-direction:column;">
        <div class="con1">
            <p style="font-size:17px; margin-left: 15px;">`*` Is To Multiply</p>
            <p style="font-size:17px; margin-left: 15px;">`/` Is To Divide</p>
            <p style="font-size:17px; margin-left: 15px;">`-` Is To Minus</p>
            <p style="font-size:17px; margin-left: 15px;">`+` Is To Plus</p>
            <p style="font-size:17px; margin-left: 15px;">`u` Means Unit For ex: Ku Meaning Kilo-unit</p>
        </div>




    </div>
</body>
<script>
    function add_clip(opreation, outcome, from, to) {
        $('.noopyet').remove()
        $('.clip').css('display', 'block')
        return `               <div class="calcuation">
                    <div class="half1">
                        <h6 class="from-tex">${from}</h6>
                        <h6 class="to-tex">${to}</h6>
                    </div>
                    <div class="half2">
                        <p class="in">${opreation} = ${outcome}</p>
                    </div>
                </div>`;

    }

    let chg;

    let roleToMA = {
        "fu": "z * 10 ** (15 * x)",
        "pu": "z * 10 ** (12 * x)",
        "nu": "z * 10 ** (9 * x)",
        "μu": "z * 10 ** (6 * x)",
        "mu": "z * 10 ** (3 * x)",
        "cu": "z * 10 ** (2 * x)",
        "du": "z * 10 ** (1 * x)",

        "u": "z",

        "Ku": "z * 10 ** (3 * x)",
        "Mu": "z * 10 ** (6 * x)",
        "Gu": "z * 10 ** (9 * x)",
        "Tu": "z * 10 ** (12 * x)",

        "fuq": "z * 10 ** (30 * x)",
        "puq": "z * 10 ** (24 * x)",
        "nuq": "z * 10 ** (18 * x)",
        "μuq": "z * 10 ** (12 * x)",
        "muq": "z * 10 ** (6 * x)",
        "cuq": "z * 10 ** (4 * x)",
        "duq": "z * 10 ** (2 * x)",

        "uq": "z",

        "Kuq": "z * 10 ** (6 * x)",
        "Muq": "z * 10 ** (12 * x)",
        "Guq": "z * 10 ** (18 * x)",
        "Tuq": "z * 10 ** (24 * x)",

        "fuc": "z * 10 ** (15 * 3 * x)",
        "puc": "z * 10 ** (12 * 3 * x)",
        "nuc": "z * 10 ** (9 * 3 * x)",
        "μuc": "z * 10 ** (6 * 3 * x)",
        "muc": "z * 10 ** (3 * 3 * x)",
        "cuc": "z * 10 ** (2 * 3 * x)",
        "duc": "z * 10 ** (3 * x)",
        "mu" : "z",
        "Kuc": "z * 10 ** (3 * 3 * x)",
        "Muc": "z * 10 ** (6 * 3 * x)",
        "Guc": "z * 10 ** (9 * 3 * x)",
        "Tuc": "z * 10 ** (12 * 3 * x)",
        "sec": "z * 60 ** (x * 2)",
        "min": "z * 60 ** (x)",
        "h"  : "z",
        "dy" : "z * (24 ** x)",
        "wk" : "z * ((24 * 7) ** x)",
        "mth": "z * ((24 * 7 * 30) ** x)",
        "yr" : "z * ((24 * 7 * 30 * 12 ) ** x)",
        "dcd": "z * ((24 * 7 * 30 * 120) ** x)",
        "yr" : "z * ((24 * 7 * 30 * 1200) ** x)"

    }
    $(document).click(function (event) {
        console.log(event.target)
        if (event.target == $('.allsc').toArray()[0]) {
            $('.allsc').css('display', 'none')

        }
    })
    $('.cb').click(function () {
        $('.allsc').css('display', 'flex')
    })
    $('#se-from').change(function () {
        let selex = $('#se-from option:selected').closest('optgroup').attr('label')
        $('[data-type=opreations]').prop('disabled', true)
        $('#se-to').find('optgroup').hide()
        $('#se-to').find(`optgroup[label="${selex}"]`).show()

        // API `x` is the definton of the from or to !
        let z = $(this).val()
        console.log(z)
        if (z !== 'd') { $('.calc').data('type', 'unorm') }else{ $('.calc').data('type', 'norm') }

    })


    $('.button-calc').click(function () {

        if ($(this).attr("id") == 'calc') {
            if ($('.calc').data('type') == 'norm') {
                let reslt = eval($('.input').val())
                console.log(reslt)
                $('.output').text(reslt)
                $('.clip').append(add_clip($('.input').val(), reslt, 'Decimal', 'Decimal'))
                reslt = '';
            } else {
                let first = eval($('.input').val())
                let from = $('#se-from').val()
                let to = $('#se-to').val()
                console.warn(parseInt($('#se-from option:selected').data('plus')),roleToMA[from].replace('x', parseInt($('#se-from option:selected').data('plus'))).replace('z', first))

                let from_op = eval(roleToMA[from].replace('x', parseInt($('#se-from option:selected').data('plus'))).replace('z', first))
                let to_op = eval(roleToMA[to].replace('x', parseInt($('#se-to option:selected').data('plus'))).replace('z', from_op))
                let result = from === 'd' ? first : to_op
                $('.output').text(result.toFixed(6))
                $('.clip').append(add_clip(`${$('.input').val()}${from}`, `${result.toFixed(6)}${to}`, from, to))
                first = '', from = '', to = '', from_op = '', to_op = '', result = ''
            }
        }


        else if ($(this).attr("id") == 'clear') {
            $('.output').text('00000')
            $('.input').val('')

        }
        else if ($(this).attr("id") == 'backspace') {
            let nuz = $('.input').val().split('')
            nuz.pop()
            console.log(nuz)
            $('.input').val(nuz.join(''))

        }
        else if ($(this).attr('id') === 'o') {
            $('.input').val($('.input').val() + '+')
            $('.input').focus()
        }
        else if ($(this).attr('id') === 'os') {
            $('.input').val($('.input').val() + '-')
            $('.input').focus()

        }
        else if ($(this).attr('id') === 'x') {
            $('.input').val($('.input').val() + '*')
            $('.input').focus()

        }
        else if ($(this).attr('id') === 'xs') {
            $('.input').val($('.input').val() + '/')
            $('.input').focus()

        }

    })
</script>

</html>
